{{ define "styles" }}
{{ $articleCSS := resources.Get "css/article.css" | minify | fingerprint }}
{{ $calcCSS := resources.Get "css/calculator.css" | minify | fingerprint }}
<link rel="stylesheet" href="{{ $articleCSS.RelPermalink }}">
<link rel="stylesheet" href="{{ $calcCSS.RelPermalink }}">
{{ end }}

{{ define "structured-data" }}
{{ with .Params.jsonLd }}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "{{ $.Title }}",
    "description": "{{ $.Description }}",
    "url": "{{ $.Permalink }}",
    "applicationCategory": "HealthApplication",
    "operatingSystem": "Any",
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
    },
    "author": {
        "@type": "Organization",
        "name": "Luen",
        "url": "{{ site.BaseURL }}"
    }
}
</script>
{{ end }}
{{ partial "json-ld/faq.html" $ }}
{{ partial "json-ld/breadcrumb.html" $ }}
{{ end }}

{{ define "main" }}
    <div class="container-narrow">
        {{ partial "breadcrumb.html" . }}

        <div class="article-header">
            <h1>{{ .Title }}</h1>
            {{ with .Params.subtitle }}<p class="article-subtitle">{{ . }}</p>{{ end }}
        </div>

        <div class="rule"></div>

        {{ .Params.calculatorHTML | safeHTML }}

        <div class="article-body">
            {{ .Content }}

            {{ partial "cta-box.html" . }}

            {{ partial "faq.html" . }}
        </div>

        {{ partial "related.html" . }}
    </div>
{{ end }}

{{ define "scripts" }}
{{ with .Params.calculatorJS }}
{{ $js := resources.Get . | minify | fingerprint }}
<script src="{{ $js.RelPermalink }}"></script>
{{ end }}
{{ end }}
