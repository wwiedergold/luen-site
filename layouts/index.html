{{ define "styles" }}
{{ $homeCSS := resources.Get "css/home.css" | minify | fingerprint }}
<link rel="stylesheet" href="{{ $homeCSS.RelPermalink }}">
{{ end }}

{{ define "structured-data" }}
<!-- Structured Data: SoftwareApplication -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Luen",
    "operatingSystem": "iOS",
    "applicationCategory": "HealthApplication",
    "description": "{{ i18n "jsonld_app_desc" }}",
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
    },
    "url": "{{ site.BaseURL }}",
    "downloadUrl": "{{ site.Params.appStoreURL }}",
    "author": {
        "@type": "Person",
        "name": "{{ site.Params.author }}"
    }
}
</script>

<!-- Organization Schema -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Luen",
    "url": "{{ site.BaseURL }}",
    "logo": "{{ site.BaseURL }}apple-touch-icon.png",
    "description": "{{ i18n "jsonld_org_desc" }}",
    "sameAs": [
        "{{ site.Params.appStoreURL }}"
    ],
    "contactPoint": {
        "@type": "ContactPoint",
        "email": "support@luen.app",
        "contactType": "customer support"
    }
}
</script>

<!-- FAQ Schema -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq1_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq1_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq2_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq2_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq3_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq3_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq4_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq4_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq5_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq5_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq6_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq6_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq7_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq7_a" }}"
            }
        },
        {
            "@type": "Question",
            "name": "{{ i18n "jsonld_faq8_q" }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ i18n "jsonld_faq8_a" }}"
            }
        }
    ]
}
</script>
{{ end }}

{{ define "main" }}
    <!-- Hero Section -->
    <section class="hero" aria-label="Introduction">
        <div class="container">
            <div class="hero-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                {{ i18n "hero_badge" }}
            </div>
            <h1>{{ i18n "hero_title_1" }}<br><span>{{ i18n "hero_title_2" }}</span></h1>
            <p class="hero-subtitle">{{ i18n "hero_subtitle" }}</p>
            <a href="{{ site.Params.appStoreURL }}" class="hero-cta">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
                {{ i18n "download_for_ios" }}
            </a>
            <p style="margin-top: 16px; font-size: 14px;"><a href="{{ "why/" | relLangURL }}" style="color: var(--color-text-secondary); text-decoration: none; transition: color 0.2s;">{{ i18n "read_why" }}</a></p>
            <div class="metrics" role="list" aria-label="Tracked health metrics">
                <span class="pill" role="listitem"><span class="dot dot-vo2" aria-hidden="true"></span>VO2 Max</span>
                <span class="pill" role="listitem"><span class="dot dot-rhr" aria-hidden="true"></span>{{ i18n "pill_rhr" }}</span>
                <span class="pill" role="listitem"><span class="dot dot-workouts" aria-hidden="true"></span>{{ i18n "pill_workouts" }}</span>
                <span class="pill" role="listitem"><span class="dot dot-sleep" aria-hidden="true"></span>{{ i18n "pill_sleep" }}</span>
                <span class="pill" role="listitem"><span class="dot dot-daylight" aria-hidden="true"></span>{{ i18n "pill_daylight" }}</span>
                <span class="pill" role="listitem"><span class="dot dot-stress" aria-hidden="true"></span>{{ i18n "pill_stress" }}</span>
            </div>
            <div class="screenshots" aria-hidden="true">
                <div class="screenshot">
                    <img src="/screenshots/progress.png" alt="{{ i18n "alt_progress" }}" width="1001" height="2088" loading="lazy">
                </div>
                <div class="screenshot">
                    <img src="/screenshots/today.png" alt="{{ i18n "alt_today" }}" width="1001" height="2088" loading="lazy">
                </div>
                <div class="screenshot">
                    <img src="/screenshots/insights.png" alt="{{ i18n "alt_insights" }}" width="1001" height="2088" loading="lazy">
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features" aria-labelledby="features-title">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{{ i18n "features_label" }}</span>
                <h2 class="section-title" id="features-title">{{ i18n "features_title" }}</h2>
                <p class="section-subtitle">{{ i18n "features_subtitle" }}</p>
            </div>
            <div class="features-grid">
                <article class="feature-card">
                    <div class="feature-icon vo2" aria-hidden="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5AA3A3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                    </div>
                    <h3>{{ i18n "feature_vo2_title" }}</h3>
                    <p>{{ i18n "feature_vo2_desc" }}</p>
                </article>
                <article class="feature-card">
                    <div class="feature-icon rhr" aria-hidden="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#C27C7C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
                            <path d="M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27"/>
                        </svg>
                    </div>
                    <h3>{{ i18n "feature_habits_title" }}</h3>
                    <p>{{ i18n "feature_habits_desc" }}</p>
                </article>
                <article class="feature-card">
                    <div class="feature-icon insights" aria-hidden="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#3D8A5A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/>
                            <path d="M9 18h6"/>
                            <path d="M10 22h4"/>
                        </svg>
                    </div>
                    <h3>{{ i18n "feature_data_title" }}</h3>
                    <p>{{ i18n "feature_data_desc" }}</p>
                </article>
                <article class="feature-card">
                    <div class="feature-icon habits" aria-hidden="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#C4A55A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="4"/>
                            <path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/>
                        </svg>
                    </div>
                    <h3>{{ i18n "feature_weekly_title" }}</h3>
                    <p>{{ i18n "feature_weekly_desc" }}</p>
                </article>
                <article class="feature-card">
                    <div class="feature-icon privacy" aria-hidden="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7C7CAA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                    </div>
                    <h3>{{ i18n "feature_privacy_title" }}</h3>
                    <p>{{ i18n "feature_privacy_desc" }}</p>
                </article>
                <article class="feature-card">
                    <div class="feature-icon progress" aria-hidden="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#D89575" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/>
                        </svg>
                    </div>
                    <h3>{{ i18n "feature_percentile_title" }}</h3>
                    <p>{{ i18n "feature_percentile_desc" }}</p>
                </article>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works" aria-labelledby="how-title">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{{ i18n "how_label" }}</span>
                <h2 class="section-title" id="how-title">{{ i18n "how_title_1" }}<br>{{ i18n "how_title_2" }}</h2>
            </div>
            <div class="steps">
                <div class="step">
                    <div class="step-number" aria-hidden="true">1</div>
                    <h3>{{ i18n "step1_title" }}</h3>
                    <p>{{ i18n "step1_desc" }}</p>
                </div>
                <div class="step">
                    <div class="step-number" aria-hidden="true">2</div>
                    <h3>{{ i18n "step2_title" }}</h3>
                    <p>{{ i18n "step2_desc" }}</p>
                </div>
                <div class="step">
                    <div class="step-number" aria-hidden="true">3</div>
                    <h3>{{ i18n "step3_title" }}</h3>
                    <p>{{ i18n "step3_desc" }}</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Popular Guides -->
    <section class="guides" aria-labelledby="guides-title">
        <div class="container">
            <div class="section-header">
                <span class="section-label">{{ i18n "guides_label" }}</span>
                <h2 class="section-title" id="guides-title">{{ i18n "guides_title" }}</h2>
            </div>
            <div class="guides-grid">
                <a href="{{ "/learn/vo2-max-by-age-and-gender/" | relLangURL }}" class="guide-card">
                    <h3>{{ i18n "guide_vo2_age_title" }}</h3>
                    <p>{{ i18n "guide_vo2_age_desc" }}</p>
                </a>
                <a href="{{ "/learn/resting-heart-rate-while-sleeping/" | relLangURL }}" class="guide-card">
                    <h3>{{ i18n "guide_rhr_sleep_title" }}</h3>
                    <p>{{ i18n "guide_rhr_sleep_desc" }}</p>
                </a>
                <a href="{{ "/learn/what-is-cardio-fitness/" | relLangURL }}" class="guide-card">
                    <h3>{{ i18n "guide_cardio_title" }}</h3>
                    <p>{{ i18n "guide_cardio_desc" }}</p>
                </a>
                <a href="{{ "/learn/vo2-max-and-longevity/" | relLangURL }}" class="guide-card">
                    <h3>{{ i18n "guide_longevity_title" }}</h3>
                    <p>{{ i18n "guide_longevity_desc" }}</p>
                </a>
                <a href="{{ "/learn/how-to-improve-vo2-max/" | relLangURL }}" class="guide-card">
                    <h3>{{ i18n "guide_improve_title" }}</h3>
                    <p>{{ i18n "guide_improve_desc" }}</p>
                </a>
                <a href="{{ "/learn/resting-heart-rate-by-age/" | relLangURL }}" class="guide-card">
                    <h3>{{ i18n "guide_rhr_age_title" }}</h3>
                    <p>{{ i18n "guide_rhr_age_desc" }}</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Social Proof -->
    <section class="social-proof" aria-label="App statistics">
        <div class="container">
            <div class="stats">
                <div class="stat">
                    <div class="stat-value">6</div>
                    <div class="stat-label">{{ i18n "stat_metrics" }}</div>
                </div>
                <div class="stat">
                    <div class="stat-value">0</div>
                    <div class="stat-label">{{ i18n "stat_data" }}</div>
                </div>
                <div class="stat">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">{{ i18n "stat_processing" }}</div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section" aria-label="Download call to action">
        <div class="container">
            <h2>{{ i18n "cta_heading" }}</h2>
            <p style="margin-bottom: 8px;">{{ i18n "cta_desc_1" }}</p>
            <p style="font-size: 15px; color: var(--color-text-muted); margin-bottom: 32px;">{{ i18n "cta_desc_2" }}</p>
            <a href="{{ site.Params.appStoreURL }}" class="hero-cta">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
                {{ i18n "download_for_ios" }}
            </a>
        </div>
    </section>

    <!-- Legal Sections -->
    <div class="legal-sections">
        <div class="container-narrow">
            <section id="support" aria-labelledby="support-title">
                <h2 id="support-title">{{ i18n "support_heading" }}</h2>
                <p>{{ i18n "support_intro" }}</p>
                <p class="support-note">
                    {{ i18n "support_note" }} <a href="mailto:support@luen.app">support@luen.app</a>
                </p>
            </section>
        </div>
    </div>
{{ end }}
